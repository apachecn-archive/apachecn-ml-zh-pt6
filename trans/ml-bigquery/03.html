<html><head/><body>


	
		<title>B16722_02_Final_ASB_ePub</title>
		
	
	
		<div><h1 id="_idParaDest-39"><em class="italic"> <a id="_idTextAnchor039"/>第2章</em>:设置您的GCP和BigQuery环境</h1>
			<p>使用新的公共云提供商的第一步可能会很复杂，有时您可能会对面前的所有服务和选项感到不知所措。云供应商提供各种各样的组件和资源来解决不同的用例。有了这么多的模块，决定使用哪个服务并不容易。幸运的是，创建并运行一个<strong class="bold">谷歌云平台</strong> ( <strong class="bold"> GCP </strong>)项目，你不需要有特定的技术<a id="_idIndexMarker151"/>技能或大笔预算来投资。无论你是私人用户还是大公司的员工，GCP提供了使用其云服务的可能性，只需在平台上创建一个账户和一个项目。也可以利用免费试用来获得积分，并在有限的时间内测试产品。</p>
			<p>本章涵盖的主题将有助于为您的技术环境打下坚实的基础，并且涵盖的任务应该只执行一次。为了避免任何不确定性和迷失方向，在本章中，你将一步一步地完成以下活动:</p>
			<ul>
				<li>创建您的GCP帐户和项目</li>
				<li>激活BigQuery</li>
				<li>发现BigQuery web UI</li>
				<li>探索BigQuery公共数据集</li>
			</ul>
			<h1 id="_idParaDest-40"><a id="_idTextAnchor040"/>技术要求</h1>
			<p>本章要求您能够访问web浏览器。要执行本章中描述的步骤，我们建议使用以下方法之一:</p>
			<ul>
				<li>谷歌浏览器</li>
				<li>火狐浏览器</li>
				<li>微软Edge</li>
				<li>Microsoft Internet Explorer 11+</li>
				<li>Safari 8+(不支持Safari私人浏览模式)</li>
			</ul>
			<p>现在您已经准备好了一个受支持的web浏览器，让我们开始创建一个新的GCP帐户和项目。</p>
			<h1 id="_idParaDest-41"><a id="_idTextAnchor041"/>创建您的GCP账户和项目</h1>
			<p>开始使用GCP的第一步<a id="_idIndexMarker152"/>是创建一个新的<strong class="bold"> GCP账户</strong>和<a id="_idIndexMarker153"/>一个新的<strong class="bold">项目</strong>。项目是多个GCP资源的容器，用户通常通过他们的帐户访问它。GCP资源的例子包括谷歌计算引擎虚拟机、谷歌云存储桶、应用引擎实例和大查询数据集。GCP项目还与一个计费帐户相关联，所有服务消费的成本都记入该帐户。GCP对象可以分层组织。项目是层次结构的第一层，可以分组到<strong class="bold">文件夹</strong>中。每个文件夹可以有另一个文件夹或一个<strong class="bold">组织</strong>节点作为父文件夹。该组织位于GCP层次结构的顶层，不能有父组织。</p>
			<p>在下图中，您可以看到由一个组织节点、两个主文件夹和两个嵌套文件夹组成的层次结构，这两个文件夹链接到三个不同的GCP项目:</p>
			<div><div><img src="img/B16722_02_001.jpg" alt="Figure 2.1 – GCP resource hierarchy composed of resources, projects, folders, and an organization&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.1–由资源、项目、文件夹和组织组成的GCP资源层次结构</p>
			<p>根据GCP <a id="_idIndexMarker154"/>最佳实践，建议您创建不同的项目<a id="_idIndexMarker155"/>来分隔不同的环境，例如<strong class="bold">开发</strong>、<strong class="bold">测试</strong>、<strong class="bold">质量保证</strong>、<strong class="bold">生产</strong>。文件夹<a id="_idIndexMarker157"/>对于分离<a id="_idIndexMarker158"/>属于<a id="_idIndexMarker159"/>同一公司内不同部门或不同团队的工作负载特别有用。不需要创建组织节点，但是可以使用它来对整个公司或法人实体的所有工作负载进行分组。“组织”和“文件夹”节点用于通过唯一的集中控制点在公司各部门之间分配统一的策略和权限。</p>
			<p class="callout-heading">小费</p>
			<p class="callout">要使用GCP文件夹，必须创建一个组织节点。如果未创建“组织”节点，每个项目将被视为在逻辑上独立于其他项目，并且不能分组到一个文件夹中。</p>
			<p>对于本书的实践练习，我们将简单地创建一个GCP项目。这是组织所有BigQuery数据集的唯一必要的<a id="_idIndexMarker160"/>项，我们将在本书的各个章节中创建<a id="_idIndexMarker161"/>。</p>
			<p>现在我们已经了解了GCP资源是如何组织的，让我们来看看如何创建一个新的<strong class="bold">谷歌账户</strong>。</p>
			<h2 id="_idParaDest-42">注册GCP账户</h2>
			<p>要开始使用<a id="_idIndexMarker162"/> GCP，我们至少需要一个用户。用户是<strong class="bold">身份与访问管理</strong> ( <strong class="bold"> IAM </strong>)系统中<a id="_idIndexMarker163"/>配置的<strong class="bold">成员。IAM的目标是将正确的访问和权限授予正确的成员。GCP支持不同类型的成员:</strong></p>
			<ul>
				<li><strong class="bold">谷歌账户</strong>:任何可能与GCP互动的<a id="_idIndexMarker164"/>人，通过电子邮件地址识别，比如Gmail账户。</li>
				<li><strong class="bold">服务账户</strong>:技术用户，不直接与人类用户关联。这被分配给GCP服务，以与其他资源交互并访问其他资源。</li>
				<li><code>user2@companyxyz.com</code>和<code>user3@companyxyz.com</code>。</li>
				<li><strong class="bold">云身份域</strong>:类似于Google Workspace域，唯一的区别是这组用户不能访问Google的生产力套件。</li>
				<li><strong class="bold"> Google group </strong>:代表<a id="_idIndexMarker165"/>一组账户。它链接到一个电子邮件别名，可用于向多个帐户分配相同的权限和授权。</li>
			</ul>
			<p>出于我们的目的，我们将使用Google提供的免费试用版创建一个简单的Google帐户，地址是:<a href="https://cloud.google.com/free">https://cloud.google.com/free</a>:</p>
			<div><div><img src="img/B16722_02_002.jpg" alt="Figure 2.2 – Google Cloud web page to access the GCP free trial&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.2–访问GCP免费试用版的谷歌云网页</p>
			<p>这一免费选项使您能够免费开始使用GCP，并提供以下内容:</p>
			<ul>
				<li>利用每个GCP服务的免费层的可能性，包括BigQuery。该选项没有过期时间。</li>
				<li>300美元的有限信用额度，以克服免费等级的限制或使用其他服务。这张信用证90天后到期。</li>
			</ul>
			<p>如果您尚未创建GCP项目，请选择<strong class="bold">免费开始</strong>，或点击<strong class="bold">登录</strong>访问您现有的GCP控制台。出于教育目的，我们将选择<strong class="bold">免费入门</strong>来展示帐户创建的整个过程，如下图所示:</p>
			<div><div><img src="img/B16722_02_003.jpg" alt="Figure 2.3 – Creation of a Google account for GCP&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.3–为GCP创建一个谷歌账户</p>
			<p>如果您没有现有的电子邮件地址，可以在GCP <a id="_idIndexMarker167"/>注册过程中直接创建一个Gmail帐户。对于帐户创建过程，有必要指定您的名字和姓氏，现有的或新的电子邮件地址，以及访问GCP的强密码。</p>
			<p>接受隐私条款后，您将被重定向到GCP注册流程，该流程基本上由两个步骤组成:</p>
			<ol>
				<li>In the first step, you need to select your country, read and agree to the terms of service, and then sign up to receive updates from Google and its partners. As shown on the right-hand side of <em class="italic">Figure 2.4</em>, the registration page summarizes the main conditions of the free trial:<div><img src="img/B16722_02_004.jpg" alt="Figure 2.4 – First step of GCP account creation&#13;&#10;"/></div><p class="figure-caption">图2.4–GCP账户创建的第一步</p></li>
				<li>The second <a id="_idIndexMarker168"/>step requires you to provide all the information that is necessary for the billing of your GCP projects. This step asks for your billing address and a credit card to start using GCP:<div><img src="img/B16722_02_005.jpg" alt="Figure 2.5 – Details to provide to create a GCP account&#13;&#10;"/></div><p class="figure-caption">图2.5–创建GCP账户需要提供的详细信息</p></li>
				<li>At the end of the process, select <strong class="bold">Start my free trial</strong>; you will be ready to access the<a id="_idIndexMarker169"/> home page of Google Cloud Console.<p class="callout-heading">小费</p><p class="callout">虽然创建Google Cloud帐户需要信用卡，但在您明确决定将帐户从免费升级到付费版本之前，不会使用信用卡。</p></li>
			</ol>
			<p>现在，我们已经创建了我们的Google帐户，并且第一次访问了Google Cloud Console，在下一节中，我们将探索这个web界面的主要功能。</p>
			<h2 id="_idParaDest-43"><a id="_idTextAnchor043"/>探索谷歌云控制台</h2>
			<p>谷歌云<a id="_idIndexMarker170"/>控制台允许用户使用图形用户界面访问和使用所有GCP资源。</p>
			<p>在下面的截图中，你可以看到谷歌云控制台及其主要部分:</p>
			<div><div><img src="img/B16722_02_006.jpg" alt="Figure 2.6 – Overview of the functionalities of Google Cloud Console&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.6–谷歌云控制台的功能概述</p>
			<p>从左上角的<a id="_idIndexMarker171"/>开始，你可以看到汉堡按钮进入导航菜单(<code>1</code>)。此菜单允许您浏览所有GCP资源并选择要使用的服务。向右移动，就在GCP标志之后，您将看到当前GCP项目的名称(<code>2</code>)，它向您显示当前使用的是哪个环境。搜索栏(<code>3</code>)位于页面顶部，允许我们在项目中查找特定的资源或技术，可以被视为导航菜单的替代选择。</p>
			<p>聚焦右上角，可以找到<code>4</code>。这个工具提供了直接从Google Cloud控制台免费使用Linux命令行的可能性。这个Linux环境已经预先配置了Google Cloud SDK，可以轻松地供应和管理您的GCP项目中的资源。此外，它可以用来临时存储数据，因为它免费提供5 GB的容量。</p>
			<p>继续向左移动，您可以看到帐户设置(<code>5</code>)功能，该功能用于访问您的Google帐户资料，并在需要时注销。</p>
			<p>屏幕的大部分中央区域被仪表盘(<code>6</code>)占据。它包含了一些卡片，这些卡片提供了你的GCP项目的概览。这些卡片是小部件，可以通过右边的<code>7</code>按钮显示<a id="_idIndexMarker172"/>或隐藏。</p>
			<p>现在我们已经看了GCP控制台的主页，我们准备创建一个新的GCP项目，它将托管这本书的所有实践活动。</p>
			<h2 id="_idParaDest-44"><a id="_idTextAnchor044"/>创建GCP项目</h2>
			<p>正如我们<a id="_idIndexMarker173"/>所解释的，GCP项目是我们使用的所有GCP资源的容器。每个项目都有以下特征:</p>
			<ul>
				<li><strong class="bold">项目名称</strong>:在创建阶段选择的易记<a id="_idIndexMarker174"/>和易读的名称。名称不必是唯一的；它具有纯粹的描述功能，可以在项目创建后进行更改。</li>
				<li><strong class="bold">项目ID </strong>:该标识符是唯一的，由用户指定，或者由Google在创建新项目时自动生成。与项目名称不同，它不能修改。该ID在GCP必须是唯一的。</li>
				<li><strong class="bold">项目编号</strong>:GCP自动生成的标识，用户不可更改。这在GCP也是独一无二的。</li>
			</ul>
			<p>查看<strong class="bold">项目信息</strong>卡片中的谷歌云控制台，所有这些标识符都很容易读取:</p>
			<div><div><img src="img/B16722_02_007.jpg" alt="Figure 2.7 – The Project info widget shows the identifiers of a GCP project&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.7–项目信息小部件显示了GCP项目的标识符</p>
			<p>通过选择当前正在使用的项目的<a id="_idIndexMarker175"/>名称，我们可以访问允许我们访问的GCP项目的完整列表:</p>
			<div><div><img src="img/B16722_02_008.jpg" alt="Figure 2.8 – By selecting the name of the project in use, it is possible to change it&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.8–通过选择正在使用的项目名称，可以对其进行更改</p>
			<p>单击会打开一个弹出窗口，允许我们更改当前项目或浏览组织、文件夹和项目的GCP层次结构。在我们的例子中，唯一现存的GCP项目是<strong class="bold">我的第一个项目</strong>，它是在注册过程中自动创建的。</p>
			<p>让我们来看一下创建新项目的过程:</p>
			<ol>
				<li value="1">By selecting the <strong class="bold">New Project</strong> button at the top-right corner of the window, it is possible to create a new environment to logically separate cloud workloads. For our purposes, we'll create a dedicated GCP project to host all the hands-on exercises that <a id="_idIndexMarker176"/>will follow in the chapters of this book:<div><img src="img/B16722_02_009.jpg" alt="Figure 2.9 – This window allows you to select an existing project or create a new one&#13;&#10;"/></div><p class="figure-caption">图2.9–此窗口允许您选择现有项目或创建新项目</p></li>
				<li>In the next step, you are asked to fill in the project name. In this case, we'll use <code>bigqueryml-packt</code>, but you can choose another one. This is also the place where it is possible to link your GCP project to a parent object such as an organization or a folder. Upon selecting <strong class="bold">Edit</strong>, you have also the opportunity to change the automatically generated project ID. The new project will be created by you clicking the <strong class="bold">Create</strong> button:<div><img src="img/B16722_02_010.jpg" alt="Figure 2.10 – The New Project window allows you to choose the project name, ID, and location&#13;&#10;"/></div><p class="figure-caption">图2.10–新建项目窗口允许您选择项目名称、ID和位置</p></li>
				<li>After a few <a id="_idIndexMarker177"/>seconds, we will get a notification about the creation of the new project, visible at the top-right corner of the GCP console by clicking on the bell icon: <div><img src="img/B16722_02_011.jpg" alt="Figure 2.11 – A notification is sent to the GCP user when a new project is created and ready to be used&#13;&#10;"/></div><p class="figure-caption">图2.11–当一个新项目被创建并准备使用时，一个通知被发送给GCP用户</p></li>
				<li>创建后，新的GCP项目在项目层次结构中也是可见的，并且可以被选择以选择它作为当前的工作环境:</li>
			</ol>
			<div><div><img src="img/B16722_02_012.jpg" alt="Figure 2.12 – After the project's creation, it is possible to make it the current project&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.12–项目创建后，可以使其成为当前项目</p>
			<p>现在我们已经<a id="_idIndexMarker178"/>创建了一个新项目，是时候开始使用BigQuery了。在下一节中，我们将学习如何在使用服务之前激活它。</p>
			<h1 id="_idParaDest-45"><a id="_idTextAnchor045"/>激活BigQuery</h1>
			<p>每个GCP服务<a id="_idIndexMarker179"/>可以根据客户的需求和需要实现的用例来启用或禁用。出于我们的目的，我们将展示激活BigQuery服务所必需的步骤，但是同样的方法可以扩展到其他GCP技术:</p>
			<p class="callout-heading">小费</p>
			<p class="callout">启用或禁用GCP服务不会影响您的GCP项目的计费。您只需为GCP组件的实际使用付费，而不仅仅是启用一项服务。</p>
			<ol>
				<li value="1">The first step is to access the API and services library, which can be easily found in the<a id="_idIndexMarker180"/> navigation menu of Google Cloud Console:<div><img src="img/B16722_02_013.jpg" alt="Figure 2.13 – From the navigation menu of the GCP console, &#13;&#10;it is possible to access the library of GCP services&#13;&#10;"/></div><p class="figure-caption">图2.13–从GCP控制台的导航菜单中，可以访问GCP服务库</p><p>此功能允许您浏览整个GCP服务库，并选择要打开或关闭的服务。</p></li>
				<li>If we search for <em class="italic">bigquery</em> in the search bar, the first result will be <strong class="bold">BigQuery API</strong>:<div><img src="img/B16722_02_014.jpg" alt="Figure 2.14 – Looking for bigquery using the search bar, it is possible to find the BigQuery API service&#13;&#10;"/></div><p class="figure-caption">图2.14–使用搜索栏查找bigquery，可以找到BigQuery API服务</p></li>
				<li>点击<strong class="bold"> BigQuery API </strong>，我们将被重定向到一个专门用于BigQuery <a id="_idIndexMarker181"/>服务的页面，在这里可以阅读服务的描述，访问BigQuery文档，并启用服务(如果以前没有这样做的话)。如果该服务被禁用，尝试直接从导航菜单访问BigQuery会将我们重定向到同一个页面。</li>
				<li>选择<strong class="bold">启用</strong>按钮，GCP将激活BigQuery，允许您开始使用它。一旦服务被有效地启用，您将被重定向到服务的仪表板，该仪表板显示使用统计的概述，并允许您使用<strong class="bold"> Disable API </strong>按钮禁用该组件。</li>
			</ol>
			<p>到目前为止，我们已经创建了一个新的谷歌账户和一个专门的GCP项目，并且启用了BigQuery现在是时候看看BigQuery web界面了。</p>
			<h1 id="_idParaDest-46"><a id="_idTextAnchor046"/>发现BigQuery web用户界面</h1>
			<p>当启用big query<a id="_idIndexMarker182"/>API时，为了访问BigQuery UI，您可以打开GCP导航菜单，并从Google云服务列表中选择<strong class="bold"> BigQuery </strong>。</p>
			<p>乍一看(见下面的截图)，BigQuery UI似乎很复杂，因为它包含大量信息和按钮。在屏幕的左侧，我们可以看到导航面板(<strong class="bold"> 1 </strong>)占据了一列。该面板分为两个主要部分。在上部，您可以访问以下内容:</p>
			<ul>
				<li><strong class="bold">查询历史</strong>，跟踪之前执行的所有查询及其执行状态。</li>
				<li><strong class="bold">保存的查询</strong>，一个存储您经常保存和使用的查询的区域。</li>
				<li><strong class="bold">作业历史</strong>，跟踪所有批量加载、导出和复制操作及其执行状态。</li>
				<li><strong class="bold">传输</strong>使我们能够<a id="_idIndexMarker183"/>将数据摄取到BigQuery中，利用来自<strong class="bold">软件即服务</strong> ( <strong class="bold"> SaaS </strong>)应用程序的<strong class="bold"> BigQuery数据传输服务</strong>，如谷歌<a id="_idIndexMarker184"/>分析、谷歌广告或亚马逊S3。</li>
				<li><strong class="bold">调度查询</strong>，定期调度查询或监控已经调度执行的查询。</li>
				<li><strong class="bold"> Reservations </strong>，通过统一费率定价模型保留BigQuery处理能力。</li>
				<li><strong class="bold"> BI Engine </strong>允许您在BigQuery之上激活一个内存层，以进一步提高性能并获得亚秒级的报告活动延迟。</li>
				<li><strong class="bold">资源</strong>允许你浏览不同的GCP项目和数据集。</li>
			</ul>
			<p>在导航面板的下部，我们可以访问和浏览项目、相关的BigQuery数据集和数据结构，如表、视图和机器学习模型(<strong class="bold"> 2 </strong>):</p>
			<div><div><img src="img/B16722_02_015.jpg" alt="Figure 2.15 – All the functionalities of the BigQuery web interface&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.15–big query web界面的所有功能</p>
			<p>在网页的顶部中央<a id="_idIndexMarker185"/>，您可以利用web查询编辑器(<strong class="bold"> 3 </strong>)编写SQL语句，并使用<strong class="bold">运行</strong>按钮(<strong class="bold"> 4 </strong>)运行这些查询。开发者可以通过右上角的<strong class="bold">隐藏编辑器</strong>按钮隐藏web查询编辑器，或者通过选择<strong class="bold">编写新查询</strong> ( <strong class="bold"> 5 </strong>)来清除web查询编辑器。在查询编辑器下面，您可以可视化已执行查询的结果和每个选定项目的详细信息(<strong class="bold"> 6 </strong>)，例如数据集或表格。在web界面的两个部分之间，可以访问<strong class="bold">查询调度器</strong>工具(<strong class="bold"> 7 </strong>)。点击<strong class="bold">更多</strong>按钮(<strong class="bold"> 8 </strong>)，也可以访问BigQuery选项和SQL格式化程序，用于使SQL查询可读。</p>
			<p>在<strong class="bold"> bigqueryml-packt </strong>面板的右侧，您可以选择/点击<strong class="bold">创建数据集</strong> ( <strong class="bold"> 9 </strong>)来创建一个新的BigQuery数据集。</p>
			<p class="callout-heading">小费</p>
			<p class="callout">在BigQuery选项中，您可以找到启用或禁用BigQuery缓存的选项。如果启用了缓存，BigQuery会尝试使用可用的缓存结果。如果查询的结果已经在缓存中，则不执行查询。缓存用于节省计算资源并获得高性能。如果查询包含不确定的函数，如<code>CURRENT_TIMESTAMP()</code>和<code>NOW()</code>，则不使用缓存，BigQuery将执行查询语句。</p>
			<p>在本节中，我们分析了BigQuery web界面中所有可用的主要特性。现在，我们<a id="_idIndexMarker186"/>可以开始探索<strong class="bold"> BigQuery公共数据集</strong>并了解如何在我们的项目中使用它们。</p>
			<h1 id="_idParaDest-47"><a id="_idTextAnchor047"/>探索BigQuery公共数据集</h1>
			<p>收集大量的数据是开发机器学习用例的基础。这种活动被认为是数据管理领域中最痛苦的工作之一。事实上，它需要工具和最佳实践来定期监控和收集来自物理世界的信息，并将其转化为数据。多亏了<strong class="bold">云公共数据集项目</strong>，我们可以使用已经收集并输入到BigQuery中的数据。</p>
			<p><strong class="bold"> BigQuery公共数据集</strong>可在<strong class="bold">谷歌云市场</strong>的<strong class="bold">数据集</strong>部分获得，并公开提供给所有GCP用户使用。所有数据集的列表可通过以下网址<a id="_idIndexMarker189"/>获得:<a href="https://console.cloud.google.com/marketplace/browse?filter=solution-type:dataset">https://console.cloud.google.com/marketplace/browse?过滤器=解决方案类型:数据集</a>。这些数据集不仅由谷歌提供，也由大型公司和公共组织提供，它们为维护这个约200个数据集的多学科集做出了贡献。一些贡献者是GitHub、NOAA、NASA、芝加哥市、牛津大学和美国交通部。</p>
			<p>公共数据集也可以从BigQuery UI直接访问。在接下来的几页中，我们将一步一步地发现开始使用它们应该做些什么。</p>
			<h2 id="_idParaDest-48"><a id="_idTextAnchor048"/>搜索公共数据集</h2>
			<p>从BigQuery <a id="_idIndexMarker190"/> UI中，我们可以选择导航菜单中的<strong class="bold">添加数据</strong>按钮，然后单击<strong class="bold">探索公共数据集</strong>以打开一个覆盖窗口，该窗口将显示按感兴趣的类别划分的BigQuery公共数据集。</p>
			<p>在下面的截图中，您可以看到一些BigQuery公共数据集:</p>
			<div><div><img src="img/B16722_02_016.jpg" alt="Figure 2.16 – The BigQuery public datasets embedded view in the main BigQuery UI&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.16–主BigQuery UI中的BigQuery公共数据集嵌入式视图</p>
			<p>在该屏幕上，您可以上下滚动浏览可用数据集，使用搜索栏查找特定主题，或使用<strong class="bold">类别</strong>菜单过滤主题。</p>
			<p>出于我们的目的，我们将寻找由芝加哥市发布的与<strong class="bold">芝加哥出租车出行</strong>相关的公开数据。要找到这个数据集，建议搜索关键字Chicago taxi，并选择唯一一个名称为<strong class="bold"> Chicago Taxi Trips </strong>的项目。</p>
			<p>在下面的屏幕截图中，您可以看到数据集的描述:</p>
			<div><div><img src="img/B16722_02_017.jpg" alt="Figure 2.17 – The Chicago Taxi Trips public dataset overview, accessible from the &#13;&#10;Google Cloud Marketplace&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.17–芝加哥出租车出行公共数据集概述，可从谷歌云市场访问</p>
			<p>在<strong class="bold">概述</strong>部分，描述了数据集，并在右侧提供了附加信息。在这个特殊的案例中，我们可以看到数据集每月更新，并在芝加哥数据门户上发布。</p>
			<p>点击<code>bigquery-public-data</code>项目。浏览这个GCP项目，您会发现<code>chicago_taxi_trips</code>数据集，它只包含一个表:<code>taxi_trips</code>。</p>
			<h2 id="_idParaDest-49"><a id="_idTextAnchor049"/>分析表格</h2>
			<p>点击<a id="_idIndexMarker192"/>表格名称将使您能够更深入地了解<code>taxi_trips</code>数据的某些方面。在<strong class="bold">模式</strong>选项卡中，我们可以探索组成所选表格的字段。一些列被定义为<strong class="bold">必需的</strong>，而其他列则是<strong class="bold">可空的</strong>。感谢数据集的发布者，这个表也有很好的文档记录，我们可以阅读每个字段的简短描述。在构建机器学习模型之前，这种信息将在新用例实施的第一阶段帮助我们:</p>
			<div><div><img src="img/B16722_02_018.jpg" alt="Figure 2.18 – The table schema is accessible simply by selecting the table name &#13;&#10;from the navigation menu&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.18–只需从导航菜单中选择表格名称，即可访问表格模式</p>
			<p>要深入了解表格的<a id="_idIndexMarker193"/>技术细节，我们可以转到<strong class="bold">细节</strong>选项卡。此部分显示相关信息，例如:</p>
			<ul>
				<li>以GB为单位的表大小。</li>
				<li>表中的行数。</li>
				<li>表的创建日期以及上次更新的时间。</li>
				<li>The BigQuery region in which the table is stored. In this case, the data is stored in the multi-region US. <p class="callout-heading">小费</p><p class="callout"><strong class="bold">行数</strong>和<strong class="bold">最后修改日期</strong>给出了用于机器学习目的的基本信息。为了训练有效的模型，我们需要确保我们有足够的记录，并且这些记录不会过时。使用数量不足的记录或旧数据会产生低质量的机器学习模型。</p></li>
			</ul>
			<p><strong class="bold">预览</strong>选项卡提供了我们可以从表格中收集的最新可用信息。该功能允许我们查看存储在表中的数据样本，并快速理解其内容。</p>
			<p>在下面的<a id="_idIndexMarker194"/>截图中，您可以使用<strong class="bold">预览</strong>功能可视化表格的记录:</p>
			<div><div><img src="img/B16722_02_019.jpg" alt="Figure 2.19 – The Preview tab presents a sample of records from the taxi_trips table&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">图2.19–预览选项卡显示了taxi_trips表中的记录示例</p>
			<p class="callout-heading">小费</p>
			<p class="callout">从<code>SELECT COUNT(*)</code>查询中访问信息。要查看记录的样本，建议使用桌子上的<code>SELECT *</code>。</p>
			<h1 id="_idParaDest-50"><a id="_idTextAnchor050"/>总结</h1>
			<p>在第二章中，我们已经向GCP迈出了第一步。在开始注册过程之前，我们先来看看GCP资源的层次结构，它由多个项目、文件夹和一个组织节点组成。</p>
			<p>之后，我们学习了如何创建一个新账户，并利用谷歌提供的免费试用。然后，我们从web浏览器探索了Google Cloud Console，并创建了一个新的GCP项目，我们将在接下来的章节中使用它来托管我们的机器学习用例。</p>
			<p>完成设置操作后，我们启用BigQuery API来开始访问这个无服务器的分析数据仓库。</p>
			<p>由于BigQuery提供了许多不同的函数，我们逐步介绍了它们，探索了它们的效用。最重要的功能之一是向我们的控制台添加公共数据集。这种能力使我们能够访问和使用已经由公司和公共机构编制的表格。数据集已经可以使用，可以用来开发我们的用例。</p>
			<p>在这一章中，我们主要关注由芝加哥市发布的出租车出行信息表。该表为我们提供了探索表的技术细节以及如何预览表中数据的机会。</p>
			<p>在下一章中，我们将编写我们的第一批SQL语句，以便对所有基本操作有信心，这些操作在机器学习模型的开发过程中非常有价值。</p>
			<h1 id="_idParaDest-51"><a id="_idTextAnchor051"/>延伸阅读</h1>
			<p>以下链接将为您提供本章的更多资源:</p>
			<ul>
				<li><strong class="bold">谷歌云试用</strong>:<a href="https://cloud.google.com/free">https://cloud.google.com/free</a></li>
				<li><strong class="bold">在https://cloud.google.com/endpoints/docs/openapi/enable-api GCP启用API</strong>:<a href="https://cloud.google.com/endpoints/docs/openapi/enable-api"/></li>
				<li><strong class="bold"> BigQuery web界面</strong>:<a href="https://console.cloud.google.com/bigquery">https://console.cloud.google.com/bigquery</a></li>
				<li><strong class="bold"> BigQuery web界面文档</strong>:<a href="https://cloud.google.com/bigquery/docs/bigquery-web-ui">https://cloud.google.com/bigquery/docs/bigquery-web-ui</a></li>
				<li><strong class="bold"> BigQuery公共数据集市场</strong>:<a href="https://console.cloud.google.com/marketplace/browse?filter=solution-type:dataset">https://console.cloud.google.com/marketplace/browse?过滤器=解决方案类型:数据集</a></li>
				<li>【https://cloud.google.com/bigquery/public-data】big query公共数据集文档:<a href="https://cloud.google.com/bigquery/public-data">T21</a></li>
				<li><strong class="bold">芝加哥市的数据门户</strong>:<a href="https://data.cityofchicago.org/">https://data.cityofchicago.org/</a></li>
			</ul>
		</div>
	

</body></html>